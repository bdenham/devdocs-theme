+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};Affix.VERSION="3.3.7";Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0,target:window};Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop();var position=this.$element.offset();var targetHeight=this.$target.height();if(offsetTop!=null&&this.affixed=="top")return scrollTop<offsetTop?"top":false;if(this.affixed=="bottom"){if(offsetTop!=null)return scrollTop+this.unpin<=position.top?false:"bottom";return scrollTop+targetHeight<=scrollHeight-offsetBottom?false:"bottom"}var initializing=this.affixed==null;var colliderTop=initializing?scrollTop:position.top;var colliderHeight=initializing?targetHeight:height;if(offsetTop!=null&&scrollTop<=offsetTop)return"top";if(offsetBottom!=null&&colliderTop+colliderHeight>=scrollHeight-offsetBottom)return"bottom";return false};Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop();var position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var height=this.$element.height();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;var scrollHeight=Math.max($(document).height(),$(document.body).height());if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top(this.$element);if(typeof offsetBottom=="function")offsetBottom=offset.bottom(this.$element);var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){if(this.unpin!=null)this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:"");var e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix;this.unpin=affix=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}if(affix=="bottom"){this.$element.offset({top:scrollHeight-height-offsetBottom})}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.affix;$.fn.affix=Plugin;$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom;if(data.offsetTop!=null)data.offset.top=data.offsetTop;Plugin.call($spy,data)})})}(jQuery);(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";var DOM=__webpack_require__(2);var $=__webpack_require__(3);DOM.element=$;var _=__webpack_require__(4);_.isArray=$.isArray;_.isFunction=$.isFunction;_.isObject=$.isPlainObject;_.bind=$.proxy;_.each=function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}};_.map=$.map;_.mixin=$.extend;_.Event=$.Event;var Typeahead=__webpack_require__(5);var EventBus=__webpack_require__(6);var old;var typeaheadKey;var methods;old=$.fn.autocomplete;typeaheadKey="aaAutocomplete";methods={initialize:function initialize(o,datasets){datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1);o=o||{};return this.each(attach);function attach(){var $input=$(this);var eventBus=new EventBus({el:$input});var typeahead;typeahead=new Typeahead({input:$input,eventBus:eventBus,dropdownMenuContainer:o.dropdownMenuContainer,hint:o.hint===undefined?true:!!o.hint,minLength:o.minLength,autoselect:o.autoselect,autoselectOnBlur:o.autoselectOnBlur,openOnFocus:o.openOnFocus,templates:o.templates,debug:o.debug,cssClasses:o.cssClasses,datasets:datasets,keyboardShortcuts:o.keyboardShortcuts,appendTo:o.appendTo,autoWidth:o.autoWidth});$input.data(typeaheadKey,typeahead)}},open:function open(){return this.each(openTypeahead);function openTypeahead(){var $input=$(this);var typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.open()}}},close:function close(){return this.each(closeTypeahead);function closeTypeahead(){var $input=$(this);var typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.close()}}},val:function val(newVal){return!arguments.length?getVal(this.first()):this.each(setVal);function setVal(){var $input=$(this);var typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.setVal(newVal)}}function getVal($input){var typeahead;var query;if(typeahead=$input.data(typeaheadKey)){query=typeahead.getVal()}return query}},destroy:function destroy(){return this.each(unattach);function unattach(){var $input=$(this);var typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.destroy();$input.removeData(typeaheadKey)}}}};$.fn.autocomplete=function(method){var tts;if(methods[method]&&method!=="initialize"){tts=this.filter(function(){return!!$(this).data(typeaheadKey)});return methods[method].apply(tts,[].slice.call(arguments,1))}return methods.initialize.apply(this,arguments)};$.fn.autocomplete.noConflict=function noConflict(){$.fn.autocomplete=old;return this};$.fn.autocomplete.sources=Typeahead.sources;$.fn.autocomplete.escapeHighlightedString=_.escapeHighlightedString;module.exports=$.fn.autocomplete},function(module,exports){"use strict";module.exports={element:null}},function(module,exports){module.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var DOM=__webpack_require__(2);function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}module.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(obj){return typeof obj==="number"},toStr:function toStr(s){return s===undefined||s===null?"":s+""},cloneDeep:function cloneDeep(obj){var clone=this.mixin({},obj);var self=this;this.each(clone,function(value,key){if(value){if(self.isArray(value)){clone[key]=[].concat(value)}else if(self.isObject(value)){clone[key]=self.cloneDeep(value)}}});return clone},error:function(msg){throw new Error(msg)},every:function(obj,test){var result=true;if(!obj){return result}this.each(obj,function(val,key){result=test.call(null,val,key,obj);if(!result){return false}});return!!result},any:function(obj,test){var found=false;if(!obj){return found}this.each(obj,function(val,key){if(test.call(null,val,key,obj)){found=true;return false}});return found},getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){if(this.isFunction(obj)){return obj}var $template=DOM.element(obj);if($template.prop("tagName")==="SCRIPT"){return function template(){return $template.text()}}return function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},noop:function(){},formatPrefix:function(prefix,noPrefix){return noPrefix?"":prefix+"-"},className:function(prefix,clazz,skipDot){return(skipDot?"":".")+prefix+clazz},escapeHighlightedString:function(str,highlightPreTag,highlightPostTag){highlightPreTag=highlightPreTag||"<em>";var pre=document.createElement("div");pre.appendChild(document.createTextNode(highlightPreTag));highlightPostTag=highlightPostTag||"</em>";var post=document.createElement("div");post.appendChild(document.createTextNode(highlightPostTag));var div=document.createElement("div");div.appendChild(document.createTextNode(str));return div.innerHTML.replace(RegExp(escapeRegExp(pre.innerHTML),"g"),highlightPreTag).replace(RegExp(escapeRegExp(post.innerHTML),"g"),highlightPostTag)}}},function(module,exports,__webpack_require__){"use strict";var attrsKey="aaAttrs";var _=__webpack_require__(4);var DOM=__webpack_require__(2);var EventBus=__webpack_require__(6);var Input=__webpack_require__(7);var Dropdown=__webpack_require__(16);var html=__webpack_require__(18);var css=__webpack_require__(19);function Typeahead(o){var $menu;var $hint;o=o||{};if(!o.input){_.error("missing input")}this.isActivated=false;this.debug=!!o.debug;this.autoselect=!!o.autoselect;this.autoselectOnBlur=!!o.autoselectOnBlur;this.openOnFocus=!!o.openOnFocus;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.autoWidth=o.autoWidth===undefined?true:!!o.autoWidth;o.hint=!!o.hint;if(o.hint&&o.appendTo){throw new Error("[autocomplete.js] hint and appendTo options can't be used at the same time")}this.css=o.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix=_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);this.listboxId=o.listboxId=[this.cssClasses.root,"listbox",_.getUniqueId()].join("-");var domElts=buildDom(o);this.$node=domElts.wrapper;var $input=this.$input=domElts.input;$menu=domElts.menu;$hint=domElts.hint;if(o.dropdownMenuContainer){DOM.element(o.dropdownMenuContainer).css("position","relative").append($menu.css("top","0"))}$input.on("blur.aa",function($e){var active=document.activeElement;if(_.isMsie()&&($menu[0]===active||$menu[0].contains(active))){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on("mousedown.aa",function($e){$e.preventDefault()});this.eventBus=o.eventBus||new EventBus({el:$input});this.dropdown=new Typeahead.Dropdown({appendTo:o.appendTo,wrapper:this.$node,menu:$menu,datasets:o.datasets,templates:o.templates,cssClasses:o.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onSync("redrawn",this._onRedrawn,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new Typeahead.Input({input:$input,hint:$hint}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._bindKeyboardShortcuts(o);this._setLanguageDirection()}_.mixin(Typeahead.prototype,{_bindKeyboardShortcuts:function(options){if(!options.keyboardShortcuts){return}var $input=this.$input;var keyboardShortcuts=[];_.each(options.keyboardShortcuts,function(key){if(typeof key==="string"){key=key.toUpperCase().charCodeAt(0)}keyboardShortcuts.push(key)});DOM.element(document).keydown(function(event){var elt=event.target||event.srcElement;var tagName=elt.tagName;if(elt.isContentEditable||tagName==="INPUT"||tagName==="SELECT"||tagName==="TEXTAREA"){return}var which=event.which||event.keyCode;if(keyboardShortcuts.indexOf(which)===-1){return}$input.focus();event.stopPropagation();event.preventDefault()})},_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;if(datum=this.dropdown.getDatumForSuggestion($el)){this._select(datum)}},_onCursorMoved:function onCursorMoved(event,updateInput){var datum=this.dropdown.getDatumForCursor();var currentCursorId=this.dropdown.getCurrentCursor().attr("id");this.input.setActiveDescendant(currentCursorId);if(datum){if(updateInput){this.input.setInputValue(datum.value,true)}this.eventBus.trigger("cursorchanged",datum.raw,datum.datasetName)}},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue();this._updateHint();this.eventBus.trigger("cursorremoved")},_onDatasetRendered:function onDatasetRendered(){this._updateHint();this.eventBus.trigger("updated")},_onOpened:function onOpened(){this._updateHint();this.input.expand();this.eventBus.trigger("opened")},_onEmpty:function onEmpty(){this.eventBus.trigger("empty")},_onRedrawn:function onRedrawn(){this.$node.css("top",0+"px");this.$node.css("left",0+"px");var inputRect=this.$input[0].getBoundingClientRect();if(this.autoWidth){this.$node.css("width",inputRect.width+"px")}var wrapperRect=this.$node[0].getBoundingClientRect();var top=inputRect.bottom-wrapperRect.top;this.$node.css("top",top+"px");var left=inputRect.left-wrapperRect.left;this.$node.css("left",left+"px");this.eventBus.trigger("redrawn")},_onShown:function onShown(){this.eventBus.trigger("shown");if(this.autoselect){this.dropdown.cursorTopSuggestion()}},_onClosed:function onClosed(){this.input.clearHint();this.input.removeActiveDescendant();this.input.collapse();this.eventBus.trigger("closed")},_onFocused:function onFocused(){this.isActivated=true;if(this.openOnFocus){var query=this.input.getQuery();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}this.dropdown.open()}},_onBlurred:function onBlurred(){var cursorDatum;var topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();if(!this.debug){if(this.autoselectOnBlur&&cursorDatum){this._select(cursorDatum)}else if(this.autoselectOnBlur&&topSuggestionDatum){this._select(topSuggestionDatum)}else{this.isActivated=false;this.dropdown.empty();this.dropdown.close()}}},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum;var topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();if(cursorDatum){this._select(cursorDatum);$e.preventDefault()}else if(this.autoselect&&topSuggestionDatum){this._select(topSuggestionDatum);$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){var datum;if(datum=this.dropdown.getDatumForCursor()){this._select(datum);$e.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function onEscKeyed(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();if(this.dropdown.isEmpty&&query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.moveCursorUp()}this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();if(this.dropdown.isEmpty&&query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.moveCursorDown()}this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){if(this.dir==="rtl"){this._autocomplete()}},_onRightKeyed:function onRightKeyed(){if(this.dir==="ltr"){this._autocomplete()}},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir=this.input.getLanguageDirection();if(this.dir!==dir){this.dir=dir;this.$node.css("direction",dir);this.dropdown.setLanguageDirection(dir)}},_updateHint:function updateHint(){var datum;var val;var query;var escapedQuery;var frontMatchRegEx;var match;datum=this.dropdown.getDatumForTopSuggestion();if(datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()){val=this.input.getInputValue();query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i");match=frontMatchRegEx.exec(datum.value);if(match){this.input.setHint(val+match[1])}else{this.input.clearHint()}}else{this.input.clearHint()}},_autocomplete:function autocomplete(laxCursor){var hint;var query;var isCursorAtEnd;var datum;hint=this.input.getHint();query=this.input.getQuery();isCursorAtEnd=laxCursor||this.input.isCursorAtEnd();if(hint&&query!==hint&&isCursorAtEnd){datum=this.dropdown.getDatumForTopSuggestion();if(datum){this.input.setInputValue(datum.value)}this.eventBus.trigger("autocompleted",datum.raw,datum.datasetName)}},_select:function select(datum){if(typeof datum.value!=="undefined"){this.input.setQuery(datum.value)}this.input.setInputValue(datum.value,true);this._setLanguageDirection();var event=this.eventBus.trigger("selected",datum.raw,datum.datasetName);if(event.isDefaultPrevented()===false){this.dropdown.close();_.defer(_.bind(this.dropdown.empty,this.dropdown))}},open:function open(){if(!this.isActivated){var query=this.input.getInputValue();if(query.length>=this.minLength){this.dropdown.update(query)}else{this.dropdown.empty()}}this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){val=_.toStr(val);if(this.isActivated){this.input.setInputValue(val)}else{this.input.setQuery(val);this.input.setInputValue(val,true)}this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy();this.dropdown.destroy();destroyDomStructure(this.$node,this.cssClasses);this.$node=null},getWrapper:function getWrapper(){return this.dropdown.$container[0]}});function buildDom(options){var $input;var $wrapper;var $dropdown;var $hint;$input=DOM.element(options.input);$wrapper=DOM.element(html.wrapper.replace("%ROOT%",options.cssClasses.root)).css(options.css.wrapper);if(!options.appendTo&&$input.css("display")==="block"&&$input.parent().css("display")==="table"){$wrapper.css("display","table-cell")}var dropdownHtml=html.dropdown.replace("%PREFIX%",options.cssClasses.prefix).replace("%DROPDOWN_MENU%",options.cssClasses.dropdownMenu);$dropdown=DOM.element(dropdownHtml).css(options.css.dropdown).attr({role:"listbox",id:options.listboxId});if(options.templates&&options.templates.dropdownMenu){$dropdown.html(_.templatify(options.templates.dropdownMenu)())}$hint=$input.clone().css(options.css.hint).css(getBackgroundStyles($input));$hint.val("").addClass(_.className(options.cssClasses.prefix,options.cssClasses.hint,true)).removeAttr("id name placeholder required").prop("readonly",true).attr({"aria-hidden":"true",autocomplete:"off",spellcheck:"false",tabindex:-1});if($hint.removeData){$hint.removeData()}$input.data(attrsKey,{"aria-autocomplete":$input.attr("aria-autocomplete"),"aria-expanded":$input.attr("aria-expanded"),"aria-owns":$input.attr("aria-owns"),autocomplete:$input.attr("autocomplete"),dir:$input.attr("dir"),role:$input.attr("role"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style"),type:$input.attr("type")});$input.addClass(_.className(options.cssClasses.prefix,options.cssClasses.input,true)).attr({autocomplete:"off",spellcheck:false,role:"combobox","aria-autocomplete":options.datasets&&options.datasets[0]&&options.datasets[0].displayKey?"both":"list","aria-expanded":"false","aria-labelledby":$input.attr("placeholder")?$input.attr("id"):null,"aria-owns":options.listboxId}).css(options.hint?options.css.input:options.css.inputWithNoHint);try{if(!$input.attr("dir")){$input.attr("dir","auto")}}catch(e){}$wrapper=options.appendTo?$wrapper.appendTo(DOM.element(options.appendTo).eq(0)).eq(0):$input.wrap($wrapper).parent();$wrapper.prepend(options.hint?$hint:null).append($dropdown);return{wrapper:$wrapper,input:$input,hint:$hint,menu:$dropdown}}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function destroyDomStructure($node,cssClasses){var $input=$node.find(_.className(cssClasses.prefix,cssClasses.input));_.each($input.data(attrsKey),function(val,key){if(val===undefined){$input.removeAttr(key)}else{$input.attr(key,val)}});$input.detach().removeClass(_.className(cssClasses.prefix,cssClasses.input,true)).insertAfter($node);if($input.removeData){$input.removeData(attrsKey)}$node.remove()}Typeahead.Dropdown=Dropdown;Typeahead.Input=Input;Typeahead.sources=__webpack_require__(20);module.exports=Typeahead},function(module,exports,__webpack_require__){"use strict";var namespace="autocomplete:";var _=__webpack_require__(4);var DOM=__webpack_require__(2);function EventBus(o){if(!o||!o.el){_.error("EventBus initialized without el")}this.$el=DOM.element(o.el)}_.mixin(EventBus.prototype,{trigger:function(type){var args=[].slice.call(arguments,1);var event=_.Event(namespace+type);this.$el.trigger(event,args);return event}});module.exports=EventBus},function(module,exports,__webpack_require__){"use strict";var specialKeyCodeMap;specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};var _=__webpack_require__(4);var DOM=__webpack_require__(2);var EventEmitter=__webpack_require__(8);function Input(o){var that=this;var onBlur;var onFocus;var onKeydown;var onInput;o=o||{};if(!o.input){_.error("input is missing")}onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$hint=DOM.element(o.hint);this.$input=DOM.element(o.input).on("blur.aa",onBlur).on("focus.aa",onFocus).on("keydown.aa",onKeydown);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}if(!_.isMsie()){this.$input.on("input.aa",onInput)}else{this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}_.defer(_.bind(that._onInput,that,$e))})}this.query=this.$input.val();this.$overflowHelper=buildOverflowHelper(this.$input)}Input.normalizeQuery=function(str){return(str||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.$input.removeAttr("aria-activedescendant");this.trigger("blurred")},_onFocus:function onFocus(){this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+"Keyed",$e)}},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault;var hintValue;var inputValue;switch(keyName){case"tab":hintValue=this.getHint();inputValue=this.getInputValue();preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=false}if(preventDefault){$e.preventDefault()}},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=true}return trigger},_checkInputValue:function checkInputValue(){var inputValue;var areEquivalent;var hasDifferentWhitespace;inputValue=this.getInputValue();areEquivalent=areQueriesEquivalent(inputValue,this.query);hasDifferentWhitespace=areEquivalent&&this.query?this.query.length!==inputValue.length:false;this.query=inputValue;if(!areEquivalent){this.trigger("queryChanged",this.query)}else if(hasDifferentWhitespace){this.trigger("whitespaceChanged",this.query)}},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){if(typeof value==="undefined"){value=this.query}this.$input.val(value);if(silent){this.clearHint()}else{this._checkInputValue()}},expand:function expand(){this.$input.attr("aria-expanded","true")},collapse:function collapse(){this.$input.attr("aria-expanded","false")},setActiveDescendant:function setActiveDescendant(activedescendantId){this.$input.attr("aria-activedescendant",activedescendantId)},removeActiveDescendant:function removeActiveDescendant(){this.$input.removeAttr("aria-activedescendant")},resetInputValue:function resetInputValue(){this.setInputValue(this.query,true)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val;var hint;var valIsPrefixOfHint;var isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow();if(!isValid){this.clearHint()}},getLanguageDirection:function getLanguageDirection(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength;var selectionStart;var range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart("character",-valueLength);return valueLength===range.text.length}return true},destroy:function destroy(){this.$hint.off(".aa");this.$input.off(".aa");this.$hint=this.$input=this.$overflowHelper=null}});function buildOverflowHelper($input){return DOM.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:$input.css("font-family"),fontSize:$input.css("font-size"),fontStyle:$input.css("font-style"),fontVariant:$input.css("font-variant"),fontWeight:$input.css("font-weight"),wordSpacing:$input.css("word-spacing"),letterSpacing:$input.css("letter-spacing"),textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}module.exports=Input},function(module,exports,__webpack_require__){"use strict";var immediate=__webpack_require__(9);var splitter=/\s+/;module.exports={onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks){return this}types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}return this}function trigger(types){var type;var callbacks;var args;var syncFlush;var asyncFlush;if(!this._callbacks){return this}types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));if(syncFlush()){immediate(asyncFlush)}}return this}function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0,len=callbacks.length;!cancelled&&i<len;i+=1){cancelled=callbacks[i].apply(context,args)===false}return!cancelled}}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}},function(module,exports,__webpack_require__){"use strict";var types=[__webpack_require__(10),__webpack_require__(12),__webpack_require__(13),__webpack_require__(14),__webpack_require__(15)];var draining;var currentQueue;var queueIndex=-1;var queue=[];var scheduled=false;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){nextTick()}}function nextTick(){if(draining){return}scheduled=false;draining=true;var len=queue.length;var timeout=setTimeout(cleanUpNextTick);while(len){currentQueue=queue;queue=[];while(currentQueue&&++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;queueIndex=-1;draining=false;clearTimeout(timeout)}var scheduleDrain;var i=-1;var len=types.length;while(++i<len){if(types[i]&&types[i].test&&types[i].test()){scheduleDrain=types[i].install(nextTick);break}}function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){var fun=this.fun;var array=this.array;switch(array.length){case 0:return fun();case 1:return fun(array[0]);case 2:return fun(array[0],array[1]);case 3:return fun(array[0],array[1],array[2]);default:return fun.apply(null,array)}};module.exports=immediate;function immediate(task){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(task,args));if(!scheduled&&!draining){scheduled=true;scheduleDrain()}}},function(module,exports,__webpack_require__){(function(process){"use strict";exports.test=function(){return typeof process!=="undefined"&&!process.browser};exports.install=function(func){return function(){process.nextTick(func)}}}).call(exports,__webpack_require__(11))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports){(function(global){"use strict";var Mutation=global.MutationObserver||global.WebKitMutationObserver;exports.test=function(){return Mutation};exports.install=function(handle){var called=0;var observer=new Mutation(handle);var element=global.document.createTextNode("");observer.observe(element,{characterData:true});return function(){element.data=called=++called%2}}}).call(exports,function(){return this}())},function(module,exports){(function(global){"use strict";exports.test=function(){if(global.setImmediate){return false}return typeof global.MessageChannel!=="undefined"};exports.install=function(func){var channel=new global.MessageChannel;channel.port1.onmessage=func;return function(){channel.port2.postMessage(0)}}}).call(exports,function(){return this}())},function(module,exports){(function(global){"use strict";exports.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")};exports.install=function(handle){return function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){handle();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl);return handle}}}).call(exports,function(){return this}())},function(module,exports){"use strict";exports.test=function(){return true};exports.install=function(t){return function(){setTimeout(t,0)}}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(4);var DOM=__webpack_require__(2);var EventEmitter=__webpack_require__(8);var Dataset=__webpack_require__(17);var css=__webpack_require__(19);function Dropdown(o){var that=this;var onSuggestionClick;var onSuggestionMouseEnter;var onSuggestionMouseLeave;o=o||{};if(!o.menu){_.error("menu is required")}if(!_.isArray(o.datasets)&&!_.isObject(o.datasets)){_.error("1 or more datasets required")}if(!o.datasets){_.error("datasets is required")}this.isOpen=false;this.isEmpty=true;this.minLength=o.minLength||0;this.templates={};this.appendTo=o.appendTo||false;this.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix||_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);onSuggestionClick=_.bind(this._onSuggestionClick,this);onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this);onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this);var cssClass=_.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=DOM.element(o.menu).on("mouseenter.aa",cssClass,onSuggestionMouseEnter).on("mouseleave.aa",cssClass,onSuggestionMouseLeave).on("click.aa",cssClass,onSuggestionClick);this.$container=o.appendTo?o.wrapper:this.$menu;if(o.templates&&o.templates.header){this.templates.header=_.templatify(o.templates.header);this.$menu.prepend(this.templates.header())}if(o.templates&&o.templates.empty){this.templates.empty=_.templatify(o.templates.empty);this.$empty=DOM.element('<div class="'+_.className(this.cssClasses.prefix,this.cssClasses.empty,true)+'">'+"</div>");this.$menu.append(this.$empty)}this.datasets=_.map(o.datasets,function(oDataset){return initializeDataset(that.$menu,oDataset,o.cssClasses)});_.each(this.datasets,function(dataset){var root=dataset.getRoot();if(root&&root.parent().length===0){that.$menu.append(root)}dataset.onSync("rendered",that._onRendered,that)});if(o.templates&&o.templates.footer){this.templates.footer=_.templatify(o.templates.footer);this.$menu.append(this.templates.footer())}var self=this;DOM.element(window).resize(function(){self._redraw()})}_.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger("suggestionClicked",DOM.element($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){var elt=DOM.element($e.currentTarget);if(elt.hasClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true))){return}this._removeCursor();var suggestion=this;setTimeout(function(){suggestion._setCursor(elt,false)},0)},_onSuggestionMouseLeave:function onSuggestionMouseLeave($e){if($e.relatedTarget){var elt=DOM.element($e.relatedTarget);if(elt.closest("."+_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).length>0){return}}this._removeCursor();this.trigger("cursorRemoved")},_onRendered:function onRendered(e,query){this.isEmpty=_.every(this.datasets,isDatasetEmpty);if(this.isEmpty){if(query.length>=this.minLength){this.trigger("empty")}if(this.$empty){if(query.length<this.minLength){this._hide()}else{var html=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(html);this._show()}}else if(_.any(this.datasets,hasEmptyTemplate)){if(query.length<this.minLength){this._hide()}else{this._show()}}else{this._hide()}}else if(this.isOpen){if(this.$empty){this.$empty.empty()}if(query.length>=this.minLength){this._show()}else{this._hide()}}this.trigger("datasetRendered");function isDatasetEmpty(dataset){return dataset.isEmpty()}function hasEmptyTemplate(dataset){return dataset.templates&&dataset.templates.empty}},_hide:function(){this.$container.hide()},_show:function(){this.$container.css("display","block");this._redraw();this.trigger("shown")},_redraw:function redraw(){if(!this.isOpen||!this.appendTo)return;this.trigger("redrawn")},_getSuggestions:function getSuggestions(){return this.$menu.find(_.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function getCursor(){return this.$menu.find(_.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function setCursor($el,updateInput){$el.first().addClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).attr("aria-selected","true");this.trigger("cursorMoved",updateInput)},_removeCursor:function removeCursor(){this._getCursor().removeClass(_.className(this.cssClasses.prefix,this.cssClasses.cursor,true)).removeAttr("aria-selected")},_moveCursor:function moveCursor(increment){var $suggestions;var $oldCursor;var newCursorIndex;var $newCursor;if(!this.isOpen){return}$oldCursor=this._getCursor();$suggestions=this._getSuggestions();this._removeCursor();newCursorIndex=$suggestions.index($oldCursor)+increment;newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger("cursorRemoved");return}else if(newCursorIndex<-1){newCursorIndex=$suggestions.length-1}this._setCursor($newCursor=$suggestions.eq(newCursorIndex),true);this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop;var elBottom;var menuScrollTop;var menuHeight;elTop=$el.position().top;elBottom=elTop+$el.height()+parseInt($el.css("margin-top"),10)+parseInt($el.css("margin-bottom"),10);menuScrollTop=this.$menu.scrollTop();menuHeight=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(elTop<0){this.$menu.scrollTop(menuScrollTop+elTop)}else if(menuHeight<elBottom){this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))}},close:function close(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function open(){if(!this.isOpen){this.isOpen=true;if(!this.isEmpty){this._show()}this.trigger("opened")}},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir==="ltr"?this.css.ltr:this.css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(+1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;if($el.length){datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}}return datum},getCurrentCursor:function getCurrentCursor(){return this._getCursor().first()},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function cursorTopSuggestion(){this._setCursor(this._getSuggestions().first(),false)},update:function update(query){_.each(this.datasets,updateDataset);function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.isEmpty=true;function clearDataset(dataset){dataset.clear()}},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){this.$menu.off(".aa");this.$menu=null;_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});Dropdown.Dataset=Dataset;function initializeDataset($menu,oDataset,cssClasses){return new Dropdown.Dataset(_.mixin({$menu:$menu,cssClasses:cssClasses},oDataset))}module.exports=Dropdown},function(module,exports,__webpack_require__){"use strict";var datasetKey="aaDataset";var valueKey="aaValue";var datumKey="aaDatum";var _=__webpack_require__(4);var DOM=__webpack_require__(2);var html=__webpack_require__(18);var css=__webpack_require__(19);var EventEmitter=__webpack_require__(8);function Dataset(o){o=o||{};o.templates=o.templates||{};if(!o.source){_.error("missing source")}if(o.name&&!isValidName(o.name)){_.error("invalid dataset name: "+o.name)}this.query=null;this._isEmpty=true;this.highlight=!!o.highlight;this.name=typeof o.name==="undefined"||o.name===null?_.getUniqueId():o.name;this.source=o.source;this.displayFn=getDisplayFn(o.display||o.displayKey);this.templates=getTemplates(o.templates,this.displayFn);this.css=_.mixin({},css,o.appendTo?css.appendTo:{});this.cssClasses=o.cssClasses=_.mixin({},css.defaultClasses,o.cssClasses||{});this.cssClasses.prefix=o.cssClasses.formattedPrefix||_.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var clazz=_.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=o.$menu&&o.$menu.find(clazz+"-"+this.name).length>0?DOM.element(o.$menu.find(clazz+"-"+this.name)[0]):DOM.element(html.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset));this.$menu=o.$menu}Dataset.extractDatasetName=function extractDatasetName(el){return DOM.element(el).data(datasetKey)};Dataset.extractValue=function extractValue(el){return DOM.element(el).data(valueKey)};Dataset.extractDatum=function extractDatum(el){var datum=DOM.element(el).data(datumKey);if(typeof datum==="string"){datum=JSON.parse(datum)}return datum};_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){if(!this.$el){return}var that=this;var hasSuggestions;var renderArgs=[].slice.call(arguments,2);this.$el.empty();hasSuggestions=suggestions&&suggestions.length;this._isEmpty=!hasSuggestions;if(!hasSuggestions&&this.templates.empty){this.$el.html(getEmptyHtml.apply(this,renderArgs)).prepend(that.templates.header?getHeaderHtml.apply(this,renderArgs):null).append(that.templates.footer?getFooterHtml.apply(this,renderArgs):null)}else if(hasSuggestions){this.$el.html(getSuggestionsHtml.apply(this,renderArgs)).prepend(that.templates.header?getHeaderHtml.apply(this,renderArgs):null).append(that.templates.footer?getFooterHtml.apply(this,renderArgs):null)}if(this.$menu){this.$menu.addClass(this.cssClasses.prefix+(hasSuggestions?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+(hasSuggestions?"without":"with")+"-"+this.name)}this.trigger("rendered",query);function getEmptyHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:true}].concat(args);return that.templates.empty.apply(this,args)}function getSuggestionsHtml(){var args=[].slice.call(arguments,0);var $suggestions;var nodes;var self=this;var suggestionsHtml=html.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);$suggestions=DOM.element(suggestionsHtml).css(this.css.suggestions);nodes=_.map(suggestions,getSuggestionNode);$suggestions.append.apply($suggestions,nodes);return $suggestions;function getSuggestionNode(suggestion){var $el;var suggestionHtml=html.suggestion.replace("%PREFIX%",self.cssClasses.prefix).replace("%SUGGESTION%",self.cssClasses.suggestion);$el=DOM.element(suggestionHtml).attr({role:"option",id:["option",Math.floor(Math.random()*1e8)].join("-")}).append(that.templates.suggestion.apply(this,[suggestion].concat(args)));$el.data(datasetKey,that.name);$el.data(valueKey,that.displayFn(suggestion)||undefined);$el.data(datumKey,JSON.stringify(suggestion));$el.children().each(function(){DOM.element(this).css(self.css.suggestionChild)});return $el}}function getHeaderHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:!hasSuggestions}].concat(args);return that.templates.header.apply(this,args)}function getFooterHtml(){var args=[].slice.call(arguments,0);args=[{query:query,isEmpty:!hasSuggestions}].concat(args);return that.templates.footer.apply(this,args)}},getRoot:function getRoot(){return this.$el},update:function update(query){var that=this;this.query=query;this.canceled=false;this.source(query,render);function render(suggestions){if(!that.canceled&&query===that.query){var args=[].slice.call(arguments,1);args=[query,suggestions].concat(args);that._render.apply(that,args)}}},cancel:function cancel(){this.canceled=true},clear:function clear(){this.cancel();this.$el.empty();this.trigger("rendered","")},isEmpty:function isEmpty(){return this._isEmpty},destroy:function destroy(){this.$el=null}});function getDisplayFn(display){display=display||"value";return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}function getTemplates(templates,displayFn){return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return"<p>"+displayFn(context)+"</p>"}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}module.exports=Dataset},function(module,exports){"use strict";module.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%%SUGGESTION%"></div>'}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(4);var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",noPrefix:false,dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"},appendTo:{wrapper:{position:"absolute",zIndex:"100",display:"none"},input:{},inputWithNoHint:{},dropdown:{display:"block"}}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(_.isMsie()&&_.isMsie()<=7){_.mixin(css.input,{marginTop:"-1px"})}module.exports=css},function(module,exports,__webpack_require__){"use strict";module.exports={hits:__webpack_require__(21),popularIn:__webpack_require__(24)}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(4);var version=__webpack_require__(22);var parseAlgoliaClientVersion=__webpack_require__(23);module.exports=function search(index,params){var algoliaVersion=parseAlgoliaClientVersion(index.as._ua);if(algoliaVersion&&algoliaVersion[0]>=3&&algoliaVersion[1]>20){params=params||{};params.additionalUA="autocomplete.js "+version}return sourceFn;function sourceFn(query,cb){index.search(query,params,function(error,content){if(error){_.error(error.message);return}cb(content.hits,content)})}}},function(module,exports){module.exports="0.28.1"},function(module,exports){"use strict";module.exports=function parseAlgoliaClientVersion(agent){var parsed=agent.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);if(parsed)return[parsed[1],parsed[2],parsed[3]];return undefined}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(4);var version=__webpack_require__(22);var parseAlgoliaClientVersion=__webpack_require__(23);module.exports=function popularIn(index,params,details,options){var algoliaVersion=parseAlgoliaClientVersion(index.as._ua);if(algoliaVersion&&algoliaVersion[0]>=3&&algoliaVersion[1]>20){params=params||{};params.additionalUA="autocomplete.js "+version}if(!details.source){return _.error("Missing 'source' key")}var source=_.isFunction(details.source)?details.source:function(hit){return hit[details.source]};if(!details.index){return _.error("Missing 'index' key")}var detailsIndex=details.index;options=options||{};return sourceFn;function sourceFn(query,cb){index.search(query,params,function(error,content){if(error){_.error(error.message);return}if(content.hits.length>0){var first=content.hits[0];var detailsParams=_.mixin({hitsPerPage:0},details);delete detailsParams.source;delete detailsParams.index;var detailsAlgoliaVersion=parseAlgoliaClientVersion(detailsIndex.as._ua);if(detailsAlgoliaVersion&&detailsAlgoliaVersion[0]>=3&&detailsAlgoliaVersion[1]>20){params.additionalUA="autocomplete.js "+version}detailsIndex.search(source(first),detailsParams,function(error2,content2){if(error2){_.error(error2.message);return}var suggestions=[];if(options.includeAll){var label=options.allTitle||"All departments";suggestions.push(_.mixin({facet:{value:label,count:content2.nbHits}},_.cloneDeep(first)))}_.each(content2.facets,function(values,facet){_.each(values,function(count,value){suggestions.push(_.mixin({facet:{facet:facet,value:value,count:count}},_.cloneDeep(first)))})});for(var i=1;i<content.hits.length;++i){suggestions.push(content.hits[i])}cb(suggestions,content)});return}cb([])})}}}]);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e,t,n;return function e(t,n,i){function o(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){function i(e,t){for(;e&&e!==document;){if(e.matches(t))return e;e=e.parentNode}}if(Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=i},{}],2:[function(e,t,n){function i(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}var r=e("./closest");t.exports=i},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return o(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=i},{"./is":3,delegate:2}],5:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}t.exports=i},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function e(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function e(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function e(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function e(){return this._action}},{key:"target",set:function e(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=o(t),u=o(n),f=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return c(t,e),d(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,f.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return l("action",t)}},{key:"defaultTarget",value:function e(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function e(t){return l("text",t)}},{key:"destroy",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(u.default);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});if("undefined"==typeof magento)var magento={};magento.glossary={url:"https://magento.github.io/glossary/",terms:[],init:function(dataUrl,filter,callback){$.get(dataUrl,function(data){glossary=magento.glossary,glossaryData=$($.parseXML(data)),glossaryData.find("term").each(function(){return glossary.processTerm(filter,$(this))}),callback()},"text")},processTerm:function(filter,term){var glossary=magento.glossary,unserializedTerm=glossary.unserializeTerm(term);filter(unserializedTerm)&&glossary.terms.push(unserializedTerm)},unserializeTerm:function(termXmlData){var data={};return data.id=termXmlData.find("uuid").text(),data.title=termXmlData.find("title").text(),data.types=magento.glossary.unserializeList(termXmlData.find("types type")),data.forms=magento.glossary.unserializeFormTypes(termXmlData.find("form-types form")),data.synonyms=magento.glossary.unserializeList(termXmlData.find("synonyms synonym")),data.primarySource=termXmlData.find("primary-source").text().toLowerCase(),data.contentTagsArray=magento.glossary.unserializeList(termXmlData.find("content-tags content-tag")).map(function(value){return value.replace(/[\s\/]+/,"-")}),data.userTagsArray=magento.glossary.unserializeList(termXmlData.find("user-tags user-tag")),data.shortDefinition=termXmlData.find("short-definition").text().replace(/(?:\r\n|\r|\n)/g,"<br />"),data.longDefinition=termXmlData.find("long-definition").text().replace(/(?:\r\n|\r|\n)/g,"<br />"),data.usage=termXmlData.find("usage").text(),data.referenceLinks=magento.glossary.unserializeReferenceLinks(termXmlData.find("reference-links reference-link")),data},unserializeList:function(xmlList){for(var list=[],i=0;i<xmlList.length;i++)content=xmlList[i].textContent.toLowerCase(),content&&list.push(content);return list},unserializeFormTypes:function(forms){for(var formTypes=new Map,i=0;i<forms.length;i++){var types=$(forms[i]),text=types.attr("text").trim();text&&(formTypes.has(text)||formTypes.set(text,[]),formTypes.set(text,magento.glossary.unserializeList($("form-type",types))))}return formTypes},unserializeReferenceLinks:function(refLinks){for(var links=[],i=0;i<refLinks.length;i++){var link={location:$("location",refLinks[i])[0].textContent,text:$("text",refLinks[i])[0].textContent};links.push(link)}return links}},magento.glossary.tooltip={init:function(){$('[data-toggle="popover"]').each(function(){var term=magento.glossary.terms.find(magento.glossary.tooltip._findTerm,$(this).attr("term-uuid"));if(term){var title=term.title,glossaryLink='<p><a href="'+magento.glossary.url+"?#"+term.id+'" target="_blank">More Details</a></p>',content=term.shortDefinition+glossaryLink;$(this).webuiPopover({title:title,content:content,width:"400px",closeable:!0})}else console.error("Could not find term with id "+$(this).attr("term-uuid"))})},_findTerm:function(element){return element.id==this}};(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){factory(require("jquery"),window,document)}else{factory(jQuery,window,document)}})(function($,window,document,undefined){var modals=[],getCurrent=function(){return modals.length?modals[modals.length-1]:null},selectCurrent=function(){var i,selected=false;for(i=modals.length-1;i>=0;i--){if(modals[i].$blocker){modals[i].$blocker.toggleClass("current",!selected).toggleClass("behind",selected);selected=true}}};$.modal=function(el,options){var remove,target;this.$body=$("body");this.options=$.extend({},$.modal.defaults,options);this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10));this.$blocker=null;if(this.options.closeExisting)while($.modal.isActive())$.modal.close();modals.push(this);if(el.is("a")){target=el.attr("href");if(/^#/.test(target)){this.$elm=$(target);if(this.$elm.length!==1)return null;this.$body.append(this.$elm);this.open()}else{this.$elm=$("<div>");this.$body.append(this.$elm);remove=function(event,modal){modal.elm.remove()};this.showSpinner();el.trigger($.modal.AJAX_SEND);$.get(target).done(function(html){if(!$.modal.isActive())return;el.trigger($.modal.AJAX_SUCCESS);var current=getCurrent();current.$elm.empty().append(html).on($.modal.CLOSE,remove);current.hideSpinner();current.open();el.trigger($.modal.AJAX_COMPLETE)}).fail(function(){el.trigger($.modal.AJAX_FAIL);var current=getCurrent();current.hideSpinner();modals.pop();el.trigger($.modal.AJAX_COMPLETE)})}}else{this.$elm=el;this.$body.append(this.$elm);this.open()}};$.modal.prototype={constructor:$.modal,open:function(){var m=this;this.block();if(this.options.doFade){setTimeout(function(){m.show()},this.options.fadeDuration*this.options.fadeDelay)}else{this.show()}$(document).off("keydown.modal").on("keydown.modal",function(event){var current=getCurrent();if(event.which==27&&current.options.escapeClose)current.close()});if(this.options.clickClose)this.$blocker.click(function(e){if(e.target==this)$.modal.close()})},close:function(){modals.pop();this.unblock();this.hide();if(!$.modal.isActive())$(document).off("keydown.modal")},block:function(){this.$elm.trigger($.modal.BEFORE_BLOCK,[this._ctx()]);this.$body.css("overflow","hidden");this.$blocker=$('<div class="'+this.options.blockerClass+' blocker current"></div>').appendTo(this.$body);selectCurrent();if(this.options.doFade){this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration)}this.$elm.trigger($.modal.BLOCK,[this._ctx()])},unblock:function(now){if(!now&&this.options.doFade)this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,true));else{this.$blocker.children().appendTo(this.$body);this.$blocker.remove();this.$blocker=null;selectCurrent();if(!$.modal.isActive())this.$body.css("overflow","")}},show:function(){this.$elm.trigger($.modal.BEFORE_OPEN,[this._ctx()]);if(this.options.showClose){this.closeButton=$('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>");this.$elm.append(this.closeButton)}this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker);if(this.options.doFade){this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration)}else{this.$elm.show()}this.$elm.trigger($.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger($.modal.BEFORE_CLOSE,[this._ctx()]);if(this.closeButton)this.closeButton.remove();var _this=this;if(this.options.doFade){this.$elm.fadeOut(this.options.fadeDuration,function(){_this.$elm.trigger($.modal.AFTER_CLOSE,[_this._ctx()])})}else{this.$elm.hide(0,function(){_this.$elm.trigger($.modal.AFTER_CLOSE,[_this._ctx()])})}this.$elm.trigger($.modal.CLOSE,[this._ctx()])},showSpinner:function(){if(!this.options.showSpinner)return;this.spinner=this.spinner||$('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml);this.$body.append(this.spinner);this.spinner.show()},hideSpinner:function(){if(this.spinner)this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$elm:this.$elm,$blocker:this.$blocker,options:this.options}}};$.modal.close=function(event){if(!$.modal.isActive())return;if(event)event.preventDefault();var current=getCurrent();current.close();return current.$elm};$.modal.isActive=function(){return modals.length>0};$.modal.getCurrent=getCurrent;$.modal.defaults={closeExisting:true,escapeClose:true,clickClose:true,closeText:"Close",closeClass:"",modalClass:"modal",blockerClass:"jquery-modal",spinnerHtml:null,showSpinner:true,showClose:true,fadeDuration:null,fadeDelay:1};$.modal.BEFORE_BLOCK="modal:before-block";$.modal.BLOCK="modal:block";$.modal.BEFORE_OPEN="modal:before-open";$.modal.OPEN="modal:open";$.modal.BEFORE_CLOSE="modal:before-close";$.modal.CLOSE="modal:close";$.modal.AFTER_CLOSE="modal:after-close";$.modal.AJAX_SEND="modal:ajax:send";$.modal.AJAX_SUCCESS="modal:ajax:success";$.modal.AJAX_FAIL="modal:ajax:fail";$.modal.AJAX_COMPLETE="modal:ajax:complete";$.fn.modal=function(options){if(this.length===1){new $.modal(this,options)}return this};$(document).on("click.modal",'a[rel~="modal:close"]',$.modal.close);$(document).on("click.modal",'a[rel~="modal:open"]',function(event){event.preventDefault();$(this).modal()})});(function(window,document,undefined){"use strict";(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(window.jQuery)}})(function($){var pluginName="webuiPopover";var pluginClass="webui-popover";var pluginType="webui.popover";var defaults={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:false,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:true,multi:false,arrow:true,title:"",content:"",closeable:false,padding:true,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover">'+'<div class="webui-arrow"></div>'+'<div class="webui-popover-inner">'+'<a href="#" class="close"></a>'+'<h3 class="webui-popover-title"></h3>'+'<div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div>'+"</div>"+"</div>",backdrop:false,dismissible:true,onShow:null,onHide:null,abortXHR:true,autoHide:false,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:false};var rtlClass=pluginClass+"-rtl";var _srcElements=[];var backdrop=$('<div class="webui-popover-backdrop"></div>');var _globalIdSeed=0;var _isBodyEventHandled=false;var _offsetOut=-2e3;var $document=$(document);var toNumber=function(numeric,fallback){return isNaN(numeric)?fallback||0:Number(numeric)};var getPopFromElement=function($element){return $element.data("plugin_"+pluginName)};var hideAllPop=function(){var pop=null;for(var i=0;i<_srcElements.length;i++){pop=getPopFromElement(_srcElements[i]);if(pop){pop.hide(true)}}$document.trigger("hiddenAll."+pluginType)};var hideOtherPops=function(currentPop){var pop=null;for(var i=0;i<_srcElements.length;i++){pop=getPopFromElement(_srcElements[i]);if(pop&&pop.id!==currentPop.id){pop.hide(true)}}$document.trigger("hiddenAll."+pluginType)};var isMobile="ontouchstart"in document.documentElement&&/Mobi/.test(navigator.userAgent);var pointerEventToXY=function(e){var out={x:0,y:0};if(e.type==="touchstart"||e.type==="touchmove"||e.type==="touchend"||e.type==="touchcancel"){var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];out.x=touch.pageX;out.y=touch.pageY}else if(e.type==="mousedown"||e.type==="mouseup"||e.type==="click"){out.x=e.pageX;out.y=e.pageY}return out};function WebuiPopover(element,options){this.$element=$(element);if(options){if($.type(options.delay)==="string"||$.type(options.delay)==="number"){options.delay={show:options.delay,hide:options.delay}}}this.options=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this._targetclick=false;this.init();_srcElements.push(this.$element);return this}WebuiPopover.prototype={init:function(){if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}if(this.getTrigger()!=="manual"){if(isMobile){this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,$.proxy(this.toggle,this))}else if(this.getTrigger()==="click"){this.$element.off("click",this.options.selector).on("click",this.options.selector,$.proxy(this.toggle,this))}else if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,$.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,$.proxy(this.mouseleaveHandler,this))}}this._poped=false;this._inited=true;this._opened=false;this._idSeed=_globalIdSeed;this.id=pluginName+this._idSeed;this.options.container=$(this.options.container||document.body).first();if(this.options.backdrop){backdrop.appendTo(this.options.container).hide()}_globalIdSeed++;if(this.getTrigger()==="sticky"){this.show()}if(this.options.selector){this._options=$.extend({},this.options,{selector:""})}},destroy:function(){var index=-1;for(var i=0;i<_srcElements.length;i++){if(_srcElements[i]===this.$element){index=i;break}}_srcElements.splice(index,1);this.hide();this.$element.data("plugin_"+pluginName,null);if(this.getTrigger()==="click"){this.$element.off("click")}else if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave")}if(this.$target){this.$target.remove()}},getDelegateOptions:function(){var options={};this._options&&$.each(this._options,function(key,value){if(defaults[key]!==value){options[key]=value}});return options},hide:function(force,event){if(!force&&this.getTrigger()==="sticky"){return}if(!this._opened){return}if(event){event.preventDefault();event.stopPropagation()}if(this.xhr&&this.options.abortXHR===true){this.xhr.abort();this.xhr=null}var e=$.Event("hide."+pluginType);this.$element.trigger(e,[this.$target]);if(this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var that=this;setTimeout(function(){that.$target.hide();if(!that.getCache()){that.$target.remove()}},that.getHideDelay())}if(this.options.backdrop){backdrop.hide()}this._opened=false;this.$element.trigger("hidden."+pluginType,[this.$target]);if(this.options.onHide){this.options.onHide(this.$target)}},resetAutoHide:function(){var that=this;var autoHide=that.getAutoHide();if(autoHide){if(that.autoHideHandler){clearTimeout(that.autoHideHandler)}that.autoHideHandler=setTimeout(function(){that.hide()},autoHide)}},delegate:function(eventTarget){var self=$(eventTarget).data("plugin_"+pluginName);if(!self){self=new WebuiPopover(eventTarget,this.getDelegateOptions());$(eventTarget).data("plugin_"+pluginName,self)}return self},toggle:function(e){var self=this;if(e){e.preventDefault();e.stopPropagation();if(this.options.selector){self=this.delegate(e.currentTarget)}}self[self.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){hideAllPop()},hideOthers:function(){hideOtherPops(this)},show:function(){if(this._opened){return}var $target=this.getTarget().removeClass().addClass(pluginClass).addClass(this._customTargetClass);if(!this.options.multi){this.hideOthers()}if(!this.getCache()||!this._poped||this.content===""){this.content="";this.setTitle(this.getTitle());if(!this.options.closeable){$target.find(".close").off("click").remove()}if(!this.isAsync()){this.setContent(this.getContent())}else{this.setContentASync(this.options.content)}if(this.canEmptyHide()&&this.content===""){return}$target.show()}this.displayContent();if(this.options.onShow){this.options.onShow($target)}this.bindBodyEvents();if(this.options.backdrop){backdrop.show()}this._opened=true;this.resetAutoHide()},displayContent:function(){var elementPos=this.getElementPosition(),$target=this.getTarget().removeClass().addClass(pluginClass).addClass(this._customTargetClass),$targetContent=this.getContentElement(),targetWidth=$target[0].offsetWidth,targetHeight=$target[0].offsetHeight,placement="bottom",e=$.Event("show."+pluginType);if(this.canEmptyHide()){var content=$targetContent.children().html();if(content!==null&&content.trim().length===0){return}}this.$element.trigger(e,[$target]);var optWidth=this.$element.data("width")||this.options.width;if(optWidth===""){optWidth=this._defaults.width}if(optWidth!=="auto"){$target.width(optWidth)}var optHeight=this.$element.data("height")||this.options.height;if(optHeight===""){optHeight=this._defaults.height}if(optHeight!=="auto"){$targetContent.height(optHeight)}if(this.options.style){this.$target.addClass(pluginClass+"-"+this.options.style)}if(this.options.direction==="rtl"&&!$targetContent.hasClass(rtlClass)){$targetContent.addClass(rtlClass)}if(!this.options.arrow){$target.find(".webui-arrow").remove()}$target.detach().css({top:_offsetOut,left:_offsetOut,display:"block"});if(this.getAnimation()){$target.addClass(this.getAnimation())}$target.appendTo(this.options.container);placement=this.getPlacement(elementPos);this.$element.trigger("added."+pluginType);this.initTargetEvents();if(!this.options.padding){if(this.options.height!=="auto"){$targetContent.css("height",$targetContent.outerHeight())}this.$target.addClass("webui-no-padding")}if(this.options.maxHeight){$targetContent.css("maxHeight",this.options.maxHeight)}if(this.options.maxWidth){$targetContent.css("maxWidth",this.options.maxWidth)}targetWidth=$target[0].offsetWidth;targetHeight=$target[0].offsetHeight;var postionInfo=this.getTargetPositin(elementPos,placement,targetWidth,targetHeight);this.$target.css(postionInfo.position).addClass(placement).addClass("in");if(this.options.type==="iframe"){var $iframe=$target.find("iframe");var iframeWidth=$target.width();var iframeHeight=$iframe.parent().height();if(this.options.iframeOptions.width!==""&&this.options.iframeOptions.width!=="auto"){iframeWidth=this.options.iframeOptions.width}if(this.options.iframeOptions.height!==""&&this.options.iframeOptions.height!=="auto"){iframeHeight=this.options.iframeOptions.height}$iframe.width(iframeWidth).height(iframeHeight)}if(!this.options.arrow){this.$target.css({margin:0})}if(this.options.arrow){var $arrow=this.$target.find(".webui-arrow");$arrow.removeAttr("style");if(placement==="left"||placement==="right"){$arrow.css({top:this.$target.height()/2})}else if(placement==="top"||placement==="bottom"){$arrow.css({left:this.$target.width()/2})}if(postionInfo.arrowOffset){if(postionInfo.arrowOffset.left===-1||postionInfo.arrowOffset.top===-1){$arrow.hide()}else{$arrow.css(postionInfo.arrowOffset)}}}this._poped=true;this.$element.trigger("shown."+pluginType,[this.$target])},isTargetLoaded:function(){return this.getTarget().find("i.glyphicon-refresh").length===0},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var id=pluginName+this._idSeed;this.$target=$(this.options.template).attr("id",id);this._customTargetClass=this.$target.attr("class")!==pluginClass?this.$target.attr("class"):null;this.getTriggerElement().attr("data-target",id)}if(!this.$target.data("trigger-element")){this.$target.data("trigger-element",this.getTriggerElement())}return this.$target},removeTarget:function(){this.$target.remove();this.$target=null;this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+pluginClass+"-title")},getContentElement:function(){if(!this.$contentElement){this.$contentElement=this.getTarget().find("."+pluginClass+"-content")}return this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return toNumber(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return toNumber(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var dataAttr=this.$element.attr("data-cache");if(typeof dataAttr!=="undefined"){switch(dataAttr.toLowerCase()){case"true":case"yes":case"1":return true;case"false":case"no":case"0":return false}}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var dataAttr=this.$element.attr("data-delay-show");if(typeof dataAttr!=="undefined"){return dataAttr}return this.options.delay.show===0?0:this.options.delay.show||100},getHideDelay:function(){var dataAttr=this.$element.attr("data-delay-hide");if(typeof dataAttr!=="undefined"){return dataAttr}return this.options.delay.hide===0?0:this.options.delay.hide||100},getAnimation:function(){var dataAttr=this.$element.attr("data-animation");return dataAttr||this.options.animation},getHideAnimation:function(){var ani=this.getAnimation();return ani?ani+"-out":"out"},setTitle:function(title){var $titleEl=this.getTitleElement();if(title){if(this.options.direction==="rtl"&&!$titleEl.hasClass(rtlClass)){$titleEl.addClass(rtlClass)}$titleEl.html(title)}else{$titleEl.remove()}},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&this.options.type==="html"},getIframe:function(){var $iframe=$("<iframe></iframe>").attr("src",this.getUrl());var self=this;$.each(this._defaults.iframeOptions,function(opt){if(typeof self.options.iframeOptions[opt]!=="undefined"){$iframe.attr(opt,self.options.iframeOptions[opt])}});return $iframe},getContent:function(){if(this.getUrl()){switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=$(this.getUrl());if(!this.content.is(":visible")){this.content.show()}}catch(error){throw new Error("Unable to get popover content. Invalid selector specified.")}break}}else if(!this.content){var content="";if($.isFunction(this.options.content)){content=this.options.content.apply(this.$element[0],[this])}else{content=this.options.content}this.content=this.$element.attr("data-content")||content;if(!this.content){var $next=this.$element.next();if($next&&$next.hasClass(pluginClass+"-content")){this.content=$next}}}return this.content},setContent:function(content){var $target=this.getTarget();var $ct=this.getContentElement();if(typeof content==="string"){$ct.html(content)}else if(content instanceof $){$ct.html("");if(!this.options.cache){content.clone(true,true).removeClass(pluginClass+"-content").appendTo($ct)}else{content.removeClass(pluginClass+"-content").appendTo($ct)}}this.$target=$target},isAsync:function(){return this.options.type==="async"},setContentASync:function(content){var that=this;if(this.xhr){return}this.xhr=$.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(xhr,settings){if(that.options.async.before){that.options.async.before(that,xhr,settings)}},success:function(data){that.bindBodyEvents();if(content&&$.isFunction(content)){that.content=content.apply(that.$element[0],[data])}else{that.content=data}that.setContent(that.content);var $targetContent=that.getContentElement();$targetContent.removeAttr("style");that.displayContent();if(that.options.async.success){that.options.async.success(that,data)}},complete:function(){that.xhr=null},error:function(xhr,data){if(that.options.async.error){that.options.async.error(that,xhr,data)}}})},bindBodyEvents:function(){if(_isBodyEventHandled){return}if(this.options.dismissible&&this.getTrigger()==="click"){if(isMobile){$document.off("touchstart.webui-popover").on("touchstart.webui-popover",$.proxy(this.bodyTouchStartHandler,this))}else{$document.off("keyup.webui-popover").on("keyup.webui-popover",$.proxy(this.escapeHandler,this));$document.off("click.webui-popover").on("click.webui-popover",$.proxy(this.bodyClickHandler,this))}}else if(this.getTrigger()==="hover"){$document.off("touchend.webui-popover").on("touchend.webui-popover",$.proxy(this.bodyClickHandler,this))}},mouseenterHandler:function(e){var self=this;if(e&&this.options.selector){self=this.delegate(e.currentTarget)}if(self._timeout){clearTimeout(self._timeout)}self._enterTimeout=setTimeout(function(){if(!self.getTarget().is(":visible")){self.show()}},this.getDelayShow())},mouseleaveHandler:function(){var self=this;clearTimeout(self._enterTimeout);self._timeout=setTimeout(function(){self.hide()},this.getHideDelay())},escapeHandler:function(e){if(e.keyCode===27){this.hideAll()}},bodyTouchStartHandler:function(e){var self=this;var $eventEl=$(e.currentTarget);$eventEl.on("touchend",function(e){self.bodyClickHandler(e);$eventEl.off("touchend")});$eventEl.on("touchmove",function(){$eventEl.off("touchend")})},bodyClickHandler:function(e){_isBodyEventHandled=true;var canHide=true;for(var i=0;i<_srcElements.length;i++){var pop=getPopFromElement(_srcElements[i]);if(pop&&pop._opened){var offset=pop.getTarget().offset();var popX1=offset.left;var popY1=offset.top;var popX2=offset.left+pop.getTarget().width();var popY2=offset.top+pop.getTarget().height();var pt=pointerEventToXY(e);var inPop=pt.x>=popX1&&pt.x<=popX2&&pt.y>=popY1&&pt.y<=popY2;if(inPop){canHide=false;break}}}if(canHide){hideAllPop()}},initTargetEvents:function(){if(this.getTrigger()==="hover"){this.$target.off("mouseenter mouseleave").on("mouseenter",$.proxy(this.mouseenterHandler,this)).on("mouseleave",$.proxy(this.mouseleaveHandler,this))}this.$target.find(".close").off("click").on("click",$.proxy(this.hide,this,true))},getPlacement:function(pos){var placement,container=this.options.container,clientWidth=container.innerWidth(),clientHeight=container.innerHeight(),scrollTop=container.scrollTop(),scrollLeft=container.scrollLeft(),pageX=Math.max(0,pos.left-scrollLeft),pageY=Math.max(0,pos.top-scrollTop);if(typeof this.options.placement==="function"){placement=this.options.placement.call(this,this.getTarget()[0],this.$element[0])}else{placement=this.$element.data("placement")||this.options.placement}var isH=placement==="horizontal";var isV=placement==="vertical";var detect=placement==="auto"||isH||isV;if(detect){if(pageX<clientWidth/3){if(pageY<clientHeight/3){placement=isH?"right-bottom":"bottom-right"}else if(pageY<clientHeight*2/3){if(isV){placement=pageY<=clientHeight/2?"bottom-right":"top-right"}else{placement="right"}}else{placement=isH?"right-top":"top-right"}}else if(pageX<clientWidth*2/3){if(pageY<clientHeight/3){if(isH){placement=pageX<=clientWidth/2?"right-bottom":"left-bottom"}else{placement="bottom"}}else if(pageY<clientHeight*2/3){if(isH){placement=pageX<=clientWidth/2?"right":"left"}else{placement=pageY<=clientHeight/2?"bottom":"top"}}else{if(isH){placement=pageX<=clientWidth/2?"right-top":"left-top"}else{placement="top"}}}else{if(pageY<clientHeight/3){placement=isH?"left-bottom":"bottom-left"}else if(pageY<clientHeight*2/3){if(isV){placement=pageY<=clientHeight/2?"bottom-left":"top-left"}else{placement="left"}}else{placement=isH?"left-top":"top-left"}}}else if(placement==="auto-top"){if(pageX<clientWidth/3){placement="top-right"}else if(pageX<clientWidth*2/3){placement="top"}else{placement="top-left"}}else if(placement==="auto-bottom"){if(pageX<clientWidth/3){placement="bottom-right"}else if(pageX<clientWidth*2/3){placement="bottom"}else{placement="bottom-left"}}else if(placement==="auto-left"){if(pageY<clientHeight/3){placement="left-top"}else if(pageY<clientHeight*2/3){placement="left"}else{placement="left-bottom"}}else if(placement==="auto-right"){if(pageY<clientHeight/3){placement="right-bottom"}else if(pageY<clientHeight*2/3){placement="right"}else{placement="right-top"}}return placement},getElementPosition:function(){var elRect=this.$element[0].getBoundingClientRect();var container=this.options.container;var cssPos=container.css("position");if(container.is(document.body)||cssPos==="static"){return $.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||elRect.width,height:this.$element[0].offsetHeight||elRect.height})}else if(cssPos==="fixed"){var containerRect=container[0].getBoundingClientRect();return{top:elRect.top-containerRect.top+container.scrollTop(),left:elRect.left-containerRect.left+container.scrollLeft(),width:elRect.width,height:elRect.height}}else if(cssPos==="relative"){return{top:this.$element.offset().top-container.offset().top,left:this.$element.offset().left-container.offset().left,width:this.$element[0].offsetWidth||elRect.width,height:this.$element[0].offsetHeight||elRect.height}}},getTargetPositin:function(elementPos,placement,targetWidth,targetHeight){var pos=elementPos,container=this.options.container,elementW=this.$element.outerWidth(),elementH=this.$element.outerHeight(),scrollTop=document.documentElement.scrollTop+container.scrollTop(),scrollLeft=document.documentElement.scrollLeft+container.scrollLeft(),position={},arrowOffset=null,arrowSize=this.options.arrow?20:0,padding=10,fixedW=elementW<arrowSize+padding?arrowSize:0,fixedH=elementH<arrowSize+padding?arrowSize:0,refix=0,pageH=document.documentElement.clientHeight+scrollTop,pageW=document.documentElement.clientWidth+scrollLeft;var validLeft=pos.left+pos.width/2-fixedW>0;var validRight=pos.left+pos.width/2+fixedW<pageW;var validTop=pos.top+pos.height/2-fixedH>0;var validBottom=pos.top+pos.height/2+fixedH<pageH;switch(placement){case"bottom":position={top:pos.top+pos.height,left:pos.left+pos.width/2-targetWidth/2};break;case"top":position={top:pos.top-targetHeight,left:pos.left+pos.width/2-targetWidth/2};break;case"left":position={top:pos.top+pos.height/2-targetHeight/2,left:pos.left-targetWidth};break;case"right":position={top:pos.top+pos.height/2-targetHeight/2,left:pos.left+pos.width};break;case"top-right":position={top:pos.top-targetHeight,left:validLeft?pos.left-fixedW:padding};arrowOffset={left:validLeft?Math.min(elementW,targetWidth)/2+fixedW:_offsetOut};break;case"top-left":refix=validRight?fixedW:-padding;position={top:pos.top-targetHeight,left:pos.left-targetWidth+pos.width+refix};arrowOffset={left:validRight?targetWidth-Math.min(elementW,targetWidth)/2-fixedW:_offsetOut};break;case"bottom-right":position={top:pos.top+pos.height,left:validLeft?pos.left-fixedW:padding};arrowOffset={left:validLeft?Math.min(elementW,targetWidth)/2+fixedW:_offsetOut};break;case"bottom-left":refix=validRight?fixedW:-padding;position={top:pos.top+pos.height,left:pos.left-targetWidth+pos.width+refix};arrowOffset={left:validRight?targetWidth-Math.min(elementW,targetWidth)/2-fixedW:_offsetOut};break;case"right-top":refix=validBottom?fixedH:-padding;position={top:pos.top-targetHeight+pos.height+refix,left:pos.left+pos.width};arrowOffset={top:validBottom?targetHeight-Math.min(elementH,targetHeight)/2-fixedH:_offsetOut};break;case"right-bottom":position={top:validTop?pos.top-fixedH:padding,left:pos.left+pos.width};arrowOffset={top:validTop?Math.min(elementH,targetHeight)/2+fixedH:_offsetOut};break;case"left-top":refix=validBottom?fixedH:-padding;position={top:pos.top-targetHeight+pos.height+refix,left:pos.left-targetWidth};arrowOffset={top:validBottom?targetHeight-Math.min(elementH,targetHeight)/2-fixedH:_offsetOut};break;case"left-bottom":position={top:validTop?pos.top-fixedH:padding,left:pos.left-targetWidth};arrowOffset={top:validTop?Math.min(elementH,targetHeight)/2+fixedH:_offsetOut};break}position.top+=this.getOffsetTop();position.left+=this.getOffsetLeft();return{position:position,arrowOffset:arrowOffset}}};$.fn[pluginName]=function(options,noInit){var results=[];var $result=this.each(function(){var webuiPopover=$.data(this,"plugin_"+pluginName);if(!webuiPopover){if(!options){webuiPopover=new WebuiPopover(this,null)}else if(typeof options==="string"){if(options!=="destroy"){if(!noInit){webuiPopover=new WebuiPopover(this,null);results.push(webuiPopover[options]())}}}else if(typeof options==="object"){webuiPopover=new WebuiPopover(this,options)}$.data(this,"plugin_"+pluginName,webuiPopover)}else{if(options==="destroy"){webuiPopover.destroy()}else if(typeof options==="string"){results.push(webuiPopover[options]())}}});return results.length?results:$result};var webuiPopovers=function(){var _hideAll=function(){hideAllPop()};var _create=function(selector,options){options=options||{};$(selector).webuiPopover(options)};var _isCreated=function(selector){var created=true;$(selector).each(function(i,item){created=created&&$(item).data("plugin_"+pluginName)!==undefined});return created};var _show=function(selector,options){if(options){$(selector).webuiPopover(options).webuiPopover("show")}else{$(selector).webuiPopover("show")}};var _hide=function(selector){$(selector).webuiPopover("hide")};var _setDefaultOptions=function(options){defaults=$.extend({},defaults,options)};var _updateContent=function(selector,content){var pop=$(selector).data("plugin_"+pluginName);if(pop){var cache=pop.getCache();pop.options.cache=false;pop.options.content=content;if(pop._opened){pop._opened=false;pop.show()}else{if(pop.isAsync()){pop.setContentASync(content)}else{pop.setContent(content)}}pop.options.cache=cache}};var _updateContentAsync=function(selector,url){var pop=$(selector).data("plugin_"+pluginName);if(pop){var cache=pop.getCache();var type=pop.options.type;pop.options.cache=false;pop.options.url=url;if(pop._opened){pop._opened=false;pop.show()}else{pop.options.type="async";pop.setContentASync(pop.content)}pop.options.cache=cache;pop.options.type=type}};return{show:_show,hide:_hide,create:_create,isCreated:_isCreated,hideAll:_hideAll,updateContent:_updateContent,updateContentAsync:_updateContentAsync,setDefaultOptions:_setDefaultOptions}}();window.WebuiPopovers=webuiPopovers})})(window,document);jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}value=String(value);return document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=new RegExp("(?:^|; )"+encodeURIComponent(key)+"=([^;]*)").exec(document.cookie))?decode(result[1]):null};+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body);this.$scrollElement=$(element).is(document.body)?$(window):$(element);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this));this.refresh();this.process()}ScrollSpy.VERSION="3.3.7";ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};ScrollSpy.prototype.refresh=function(){var that=this;var offsetMethod="offset";var offsetBase=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!$.isWindow(this.$scrollElement[0])){offsetMethod="position";offsetBase=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]);that.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.getScrollHeight();var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(this.scrollHeight!=scrollHeight){this.refresh()}if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}if(activeTarget&&scrollTop<offsets[0]){this.activeTarget=null;return this.clear()}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(offsets[i+1]===undefined||scrollTop<offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.scrollspy;$.fn.scrollspy=Plugin;$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery);$(".improve-page").on("click",function(e){if(!window.ga||!window.ga.create){return true}e.preventDefault();var $this=$(this),url=$this.attr("href");ga("send","event",{eventCategory:"Outbound Link",eventAction:"click",eventLabel:"Edit this page on GitHub",transport:"beacon",hitCallback:function(){document.location=url}})});$(".new-issue a").on("click",function(e){if(!window.ga||!window.ga.create){return true}e.preventDefault();var $this=$(this),url=$this.attr("href");ga("send","event",{eventCategory:"Outbound Link",eventAction:"click",eventLabel:"Give us feedback",transport:"beacon",hitCallback:function(){document.location=url}})});$(".home-contributors .btn-primary").on("click",function(e){if(!window.ga||!window.ga.create){return true}e.preventDefault();var $this=$(this),url=$this.attr("href");ga("send","event",{eventCategory:"Internal Link",eventAction:"click",eventLabel:"Become Contributor on home page",transport:"beacon",hitCallback:function(){document.location=url}})});var animatedAnchors={init:function(settings){animatedAnchors.config={items:$(".main-container a"),root:$("html, body"),speed:500,headerHeight:60};$.extend(animatedAnchors.config,settings);animatedAnchors.setup()},setup:function(){animatedAnchors.config.items.on("click",animatedAnchors.handleClick)},handleClick:function(event){var $this=$(this),url=$this.attr("href"),hash=url.split("#")[1];$target=$("#"+hash);if($target.length){event.preventDefault();animatedAnchors.config.root.stop().animate({scrollTop:$target.offset().top-animatedAnchors.config.headerHeight},animatedAnchors.config.speed)}}};$(function(){$(".collapsible").on("click",".collapsible-title",function(e){$(this).next(".collapsible-content").toggle(200);$(this).parents(".collapsible").toggleClass("active")})});$(function(){var $highlightBtn=$('<div class="btn btn-copy">Copy</div>');var $noCopyBtn=$('<div class="btn btn-no-copy">Not for copy</div>');var $preTags=$("pre");$preTags.each(function(){var $this=$(this),noCopy=$this.hasClass("no-copy");var $preWrap=$this.wrap('<div class="pre-wrap"></div>').parent();if(noCopy){$noCopyBtn.clone().appendTo($preWrap)}else{$highlightBtn.clone().appendTo($preWrap);var clipboard=new Clipboard($preWrap.find(".btn-copy")[0],{target:function(trigger){return trigger.previousElementSibling}});clipboard.on("success",function(e){e.trigger.innerText="Copied";var timerId=setTimeout(function(){e.trigger.innerText="Copy"},3e3)});clipboard.on("error",function(e){});$this.data("clipboard",clipboard)}})});$(function(){$(".dropdown .dropdown-toggle").on("click",function(){var $this=$(this),$dropdown=$this.parent();$dropdown.toggleClass("open")})});$(function(){var menustate="";if($("li.level3Child").is("li.active")){menustate=$("LI.active").attr("data-menunode");$("#"+menustate).show();$("#"+menustate).removeClass("caretRight").addClass("caretDown");$("."+menustate).show()}var thirdTier="";$(".level3Parent").on("click",function(){thirdTier=$(this).attr("id");if($("."+thirdTier).is(":visible")){$(this).removeClass("caretDown").addClass("caretRight");$("."+thirdTier).slideUp(200)}else{$(this).removeClass("caretRight").addClass("caretDown");$("."+thirdTier).slideDown(200)}return false})});$(function(){$(".menu-trigger").on("click",function(e){e.preventDefault();$("body").toggleClass("offcanvas-active")});$(".nav-main-fader").on("click",function(e){e.preventDefault();$("body").removeClass("offcanvas-active search-active")});$(".nav-main").clone().addClass("nav-main-mobile").appendTo("body");$(".version-switcher").clone().addClass("version-switcher-mobile").appendTo(".nav-main-mobile");$(".nav-main a").each(function(){var $this=$(this);var $children=$this.closest("li").find("ul");if($children.length){$this.closest("li").addClass("has-children").append('<span class="children-toggle"></span>');$this.on("click",function(e){e.preventDefault();$(this).closest("li").toggleClass("expanded")})}});$(".toc-toggler").on("click",function(e){e.preventDefault();$(this).parent().toggleClass("expanded")})});$(function(){var $quickSearchInput=$(".quick-search input");$(document).keyup(function(e){if(e.which==27){$("body").removeClass("search-active");$quickSearchInput.blur()}});$(".search-trigger").on("click",function(e){e.preventDefault();$("body").toggleClass("search-active");$quickSearchInput.trigger("focus")});$(".quick-search-close").on("click",function(e){e.preventDefault();$("body").removeClass("search-active");$quickSearchInput.blur()});var client=algoliasearch(algolia.id,algolia.key);var index=client.initIndex(algolia.index);var ver=$(".version-switcher").data("version");var searchOptions={hitsPerPage:5};if(typeof ver!=="undefined"){searchOptions.facetFilters="guide_version:"+ver}$(".quick-search input, .search-form .search-field").autocomplete({hint:true,debug:false},[{source:$.fn.autocomplete.sources.hits(index,searchOptions),displayKey:"title",templates:{suggestion:function(suggestion){return'<a href="'+baseUrl+suggestion.url+'">'+suggestion._highlightResult.title.value+"</a>"}}}]).on("autocomplete:selected",function(event,suggestion,dataset){if(typeof suggestion.url!="undefined"){window.location.href=baseUrl+suggestion.url}})});$(function(){$("#markdown-toc").hide();var $toc=$("<div>",{class:"page-toc"});$toc.appendTo(".page-info");$toc.append('<ul class="nav"></ul>');$(".content-wrap :header:not(h1)").each(function(){var $this=$(this),id=$this.attr("id"),no_toc=$this.hasClass("no_toc"),inside_collapsible=$this.parents(".collapsible").length,collapsible_title=$this.hasClass("collapsible-title"),anchor_text="",show=true;if(inside_collapsible){show=false;if(collapsible_title){show=true}}if(no_toc){show=false}if(show){if(id){anchor_text=id}else{var text=$this.text();anchor_text=text}anchor_text=anchor_text.replace(/\s/g,"-").replace(/[`~!@#$%^&*()|+\=?;:'",.<>\{\}\[\]\\\/]/gi,"");var $link=$("<a>",{href:"#"+anchor_text,class:"anchor"});$this.prepend($link);if(!id){$this.attr("id",anchor_text)}var tag_name=$this.prop("tagName").toLowerCase();if(tag_name=="h2"||tag_name=="h3"){var $li=$('<li class="'+tag_name+'"><a href="#'+anchor_text+'"></a></li>');$li.find("a").text($this.text());$toc.find("ul").append($li)}}});if($toc.find("li").length<=1){$toc.hide()}$("body").scrollspy({target:".page-info",offset:61})});function checkHistory(targetId){var history=localStorage.history;var htmlContent="";if(history!=""&&history!=null){var insert=true;var sp=history.toString().split(",");for(var i=sp.length-1;i>=0;i--){htmlContent+='<a style="color: white;" class="demo-pricing demo-pricing-1" href="'+sp[i]+'">'+sp[i].substring(sp[i].lastIndexOf("/")+1)+"</a><br>";if(sp[i]==document.URL){insert=false}document.getElementById(targetId).innerHTML=htmlContent}if(insert){sp.push(document.URL)}localStorage.history=sp.toString()}else{var stack=new Array;stack.push(document.URL);localStorage.history=stack.toString()}}function clearHistory(){localStorage.history="";alert("Visited page links were cleared")}var $video=$(".video-player");if($video.length){var $videoWrap=$(".video-player-wrap"),videoOffsetTop=$video.outerHeight(true)+$video.offset().top;$video.affix({offset:{top:videoOffsetTop,bottom:function(){return this.bottom=$("#footer").outerHeight(true)}}});$video.on("affix.bs.affix",function(){$videoWrap.addClass("embed-responsive-16by9")});$video.on("affix-top.bs.affix",function(){$videoWrap.removeClass("embed-responsive-16by9")})}$(function(){$(window).on("load",function(){if(window.location.hash){$(document).scrollTop($(document).scrollTop()-60)}});$(document).on("scroll",function(){if($(document).scrollTop()>10)$("#global-nav").addClass("sticky-nav-main");else $("#global-nav").removeClass("sticky-nav-main")});animatedAnchors.init();magento.glossary.init("https://magento.github.io/glossary/data/content-glossary.xml",function(term){return term.types.includes("glossary")},magento.glossary.tooltip.init);$.modal.defaults={closeExisting:true,escapeClose:true,clickClose:true,closeText:"×",closeClass:"",modalClass:"modal",blockerClass:"jquery-modal",spinnerHtml:null,showSpinner:true,showClose:true,fadeDuration:100,fadeDelay:1}});